<!doctype html>
<html>
    <head>
        {% load static %}
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <!-- Font Awesome -->
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">

      <!-- Material Design Bootstrap -->
      <link href="{% static 'mdb/css/mdb.min.css' %}" rel="stylesheet">
      <!-- Your custom styles (optional) -->
      <link href="{% static 'mdb/css/style.css' %}" rel="stylesheet">


        <title>Мониторинг офиса №7</title>
        {{ labels|json_script:"labels" }}
        {{ temperature_air|json_script:"temp_air" }}
        {{ temperature_heater|json_script:"temp_heat" }}

    </head>
    <body>
        <div class="container-fluid">

            <div class="card">
                <h2 class="card-header">Температура в офисе №7</h2>
                <div class="card-body">
                    <canvas id="scatterChart"></canvas>
                </div>
            </div>
        </div>
        <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
        <!--<script type="text/javascript" src="{% static 'mdb/js/mdb.min.js' %}"></script>-->
            <script type="application/javascript">
              var ctxSc = document.getElementById('scatterChart').getContext('2d');
              // var scatterData = {
              //   datasets: [{
              //     borderColor: 'rgba(99,0,125, .2)',
              //     backgroundColor: 'rgba(99,0,125, .5)',
              //     label: 'Температура воздуха',
              //     data: JSON.parse(document.getElementById('temp_heat').textContent)
              //   }]
              // };

              var myLineChart = new Chart(ctxSc, {
                    type: 'line',
                    data: {
                        labels: JSON.parse(document.getElementById('labels').textContent),
                        datasets: [
                            {
                            data: JSON.parse(document.getElementById('temp_air').textContent),
                            borderColor: 'rgb(255, 0, 0)',
                            backgroundColor: 'rgba(0,0,0,0)',
                            label: 'Воздух'

                        },
                            {
                            data: JSON.parse(document.getElementById('temp_heat').textContent),
                            borderColor: 'rgb(0, 255, 0)',
                            backgroundColor: 'rgba(0,0,0,0)',
                            label: 'Батарея'

                        }
                        ]
                    }
                    // options: options
                });
              //
              // var config1 = new Chart.Scatter(ctxSc, {
              //   data: scatterData,
              //   options: {
              //     title: {
              //       display: true,
              //       text: 'Температура воздуха'
              //     },
              //     scales: {
              //       xAxes: [{
              //         type: 'linear',
              //         position: 'bottom',
              //         ticks: {
              //           userCallback: function (tick) {
              //             return tick;
              //           },
              //         },
              //         scaleLabel: {
              //           labelString: 'Часы с 00:00 1 января 2019',
              //           display: true,
              //         }
              //       }],
              //       yAxes: [{
              //         type: 'linear',
              //         // ticks: {
              //         //   userCallback: function (tick) {
              //         //     return tick.toString() + 'dB';
              //         //   }
              //         // },
              //         scaleLabel: {
              //           labelString: 'Градусы [C]',
              //           display: true
              //         }
              //       }]
              //     }
              //   }
              // });

            </script>

    </body>
</html>
